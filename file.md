## Как проверить доступность порта 443? В случае, если порт недоступен приведите порядок действий для диагностики проблемы  

Можно проверить доступность порта (закрыт он или открыт при помощи утилиты `nmap` c флагом -sT)  
```
nmap -sT ip_addr
```
В этом типе сканирования Nmap отправляет TCP-пакет на порт с установленным флагом SYN. Если цель отвечает пакетом RST – значит, порт закрыт, если цель отвечает TCP-пакетом с установленными флагами SYN/ACK, значит, порт открыт. А затем Nmap ответит TCP-пакетом с установленным флагом ACK, что завершает трехстороннее рукопожатие TCP. Это не очень надежный метод сканирования, так как брандмауэр можно легко настроить на ответные пакеты RST или сбрасывание всех входящих пакетов. Кроме того, этот метод очень медленный, поскольку он ожидает всего трехэтапного рукопожатия TCP.  
  
Можно воспользоваться утилитой `telnet`, выполнив команду:  
```
telnet ip_addr 443
```
Если порт доступен, то должно быть выведено сообщение о подключении к хосту. В случае недоступности будет выведено сообщение об ошибке 
  
### Порядок действий для диагностики
Можно проверить правила в `iptables`, в случае недоступности ввести команду, чтобы разрешить входящие соединения на 443 порту:
```
sudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT
```
Сохранить изменения и рестартануть iptables, чтоб изменения вошли в силу 

Далее следует проверить настройки фаервола, аналогично при недоступности разрешаем соединения на 443 порту:  
```
sudo ufw allow 443/tcp
```
Делаем рестарт фаервола, чтоб изменения вступили в силу.  
  
Можно попробовать подключиться к другому порту на том же хосте или к другому хосту на порту 443, чтобы выяснить, является ли проблема локальной или удаленной.  

Далее можно проверить сетевое соединение, это тоже может быть одним из факторов.  

Ну и не стоит забывать просто про опечатки :) При ошибочном вводе доменного имени или ip-адреса, telnet сообщит о недоступности порта.  
  
## Вы обнаруживаете, что пароль для root/Администратор к удалённому серверу не подходит. Ваши действия?  
Для начала можно воспользоваться другим методом аутентификации - ключом SSH, и произвести подключение с его помощью.  
Залогинится под обычного пользователя и далее, если есть возможность, поискать по логам: не был ли изменен пароль. 
Заглянуть в логи `Fail2ban`, чтобы убедиться, что не было атаки брутфорсом.    
Проверить конфигурацию сервера, сетевые настройки.    
Попытаться сбросить пароль, если это разрешено политикой безопасности, что маловероятно. 

## Что можно предпринять для защиты от атаки http-flood?
Можно использовать специальное ПО, которое предотвращает подобные атаки, правильно сконфигурировать фаервол.  
Нужно ограничить количество одновременных соединений с одного ip, также настроить сервер, чтоб он мог обрабатывать определенное количество запросов за единицу времени.  
Установить на сервер мониторинг, чтоб своевременно реагировать на атаку.  
Использовать капчу и прочее, чтоб снизить количество запросов от скриптов.  

## Когда пользователь жалуется на медленную работу сервера, необходимо выполнить следующие шаги, чтобы определить причину проблемы:
В первую очередь нужно проверить производительность -  воспользоваться `top` и `df -h`. За счет этого можно увидеть, какие процессы используют большую часть процессорного времени, посмотреть дисковое пространство.   
Проверить наличие "тяжелых" запросов к базе данных, посмотреть не завис ли запрос.   
Посмотреть логи, какие ошибки туда падают. 
Проверить наличие вирусов на сервере.  
Проверить сетевые настройки, корректность работы портов, их режим работы.  
Проверить конфигурацию сервера и настройки приложений, чтобы убедиться, что они оптимизированы для максимальной производительности.  
Внимательно посмотреть все процессы, остановить лишние, чтобы освободить ресурсы для основных приложений.  
Поискать узкие места, постараться их оптимизировать.  
Проверить аппаратную часть сервера.  
  
## Клиент жалуется, что получает ошибки 500/502/504 при открытии сайта/некоторых страниц. На сервере используется LNAMP. Ваши действия при диагностике?
Опять же воспользоваться `top` и `df -h`, посмотреть мониторинг, проверить сетевые настройки.  
Проверить журналы ошибок Apache, c чем они связаны и когда возникают.  
Проверить журналы приложения, чтобы узнать, какие ошибки происходят в коде приложения.
Проверить настройки PHP, чтобы убедиться, что они настроены правильно, и устранить возможные проблемы с PHP.
Проверить аппаратные ресурсы.  
Данные ошибки возникают в первую очередь из-за этих факторов. 
  
## Пользователь жалуется на медленную скорость загрузки файла с сервера по http (в одной/разных автономных системах). Какие действия предпримете для локализации проблемы?
Для начала нужно проверить возможные проблемы с сетью - проверить на наличие потерь. По-хорошему открыть Zabbix, чтоб выявить проблему за длительный период времени, если оперативно, то пропинговать сервер большими пакетами.  
Проверить скорость загрузки других файлов, т.к. если с другими файлами все ок, то проблема скорей всего в данном файле. Он может быть поврежден.    
Проверить настройки веб-сервера (например, Nginx) и убедиться, что он настроен правильно и не имеет ограничений на скорость загрузки файлов.  
Проверить, как загружаются другие сайты у пользователя, чтоб исключить проблему с сетевым подключением пользователя.  
Измерить скорость загрузки файла с сервера с помощью инструментов для измерения скорости загрузки, таких как `wget`, `curl`. Это поможет выявить узкие места в сетевом соединении, которые могут приводить к медленной скорости загрузки.
Попробовать использовать другие протоколы передачи файлов, такие как FTP или SFTP, и сравнить скорость загрузки с HTTP.  

## На сервере есть несколько жёстких дисков. Какие raid массивы вы можете сделать? В чем преимущество и недостатки в каждом из вариантов?  
Собственно, используя raid массивы, мы можем повышать отказоустойчивость, либо повышать производительность. Либо же в идеале повышать и то, и то, но это будет дороже. 
Существует множество типов raid массивов, приведу в пример наиболее используемые   
RAID0 - чередование   
RAID1 - зеркалирование   
RAID5 - дисковый массив с чередованием и отсутствием выделенного диска четности   
RAID10 - RAID1+RAID0    
   
RAID0 -  используется для повышения производительности (в многопоточных системах) и увеличения объема хранилища. Данные распределяются на двух или более дисках без дублирования. Преимущества: высокая производительность, увеличение объема хранилища. Недостатки: отсутствие защиты от отказа диска, повышенный риск потери данных (если хотя бы один диск выйдет из строя, мы потеряем всю информацию: будет потерен кусок из всех файлов на массиве).    
  
RAID1 - используется для обеспечения отказоустойчивости. На мой взгляд, данное решение является самым надежным. Данные дублируются на двух или более дисках. Преимущества: высокая отказоустойчивость, возможность замены отказавшего диска без потери данных. Недостатки: уменьшение объема хранилища в два раза.
  
RAID5 - используется для повышения производительности и обеспечения отказоустойчивости. На мой взляд, данное решение явление наиболее оптимальным. Данные распределяются на трех или более дисках, с использованием одного диска для хранения информации о проверке целостности данных. Преимущества: высокая производительность, отказоустойчивость, более высокий объем хранилища, чем при использовании RAID1. Недостатки: более низкая производительность, чем при использовании RAID0, очень медленный ребилд, повышенный риск потери данных при сбое нескольких дисков.   
  
RAID 10: минимум четыре диска. Объединение RAID 0 и RAID 1. Диски разбиваются на пары, каждая из которых работает в режиме RAID 1 (зеркальное отражение). Затем полученные массивы объединяются в единый массив RAID 0. На мой взгяд золотая середина с точки зрения надежности и цены. Преимущества: высокая скорость чтения и записи, высокая надежность и защита от потери данных. Недостатки: неэффективное использование места на дисках (доступно только половина общего объема), невозможность замены дисков без остановки работы массива.  
  
Выбор конкретного RAID массива зависит от требований к производительности, надежности и доступности данных, а также от бюджета.  
  
## Вы зарегистрировали домен второго уровня. Какие записи DNS необходимо указать для корректной работы сайта, почты и поддомена третьего уровня для статического контента, который вы хотите вынести на CDN  
Для корректной работы сайта, почты и поддомена третьего уровня для статического контента, который хотим вынести на CDN, необходимо указать следующие записи DNS:  
Запись A для сайта - указывает ip, на который должен быть направлен запрос при обращении к домену второго уровня.  
```
test.com IN A ip_addr
```
Запись MX для почты - указывает на адрес почтового сервера, который обрабатывает почту для домена второго уровня.
```
test.com IN MX 10 mail.test.com
```
Запись CNAME для поддомена третьего уровня, который мы хотитим вынести на CDN, указывает на каноническое имя, которое будет использоваться для обращения к статическому контенту, расположенному на CDN.  
```
cdn.test.com CNAME cdn.tmp.com
```







